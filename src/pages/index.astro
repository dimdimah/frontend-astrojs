---
import Card from "@components/Card.astro";
import Layout from "@layouts/Layout.astro";

const response = await fetch(import.meta.env.PUBLIC_API_URL);
const datas = await response.json();

const totalData = datas.getData.data.length;
---

<Layout title="Schedule Em">
  <nav class="flex justify-between items-center mb-3">
    <p
      class="bg-slate-50 text-gray-900 rounded-full w-10 p-2 text-center shadow-lg"
    >
      D
    </p>
    <p class="text-lg font-semibold">Schedule Em</p>
    <img src="/notification.svg" alt="icon-details" class="w-5 h-5" />
  </nav>
  <header class="mb-14 mt-8">
    <p class="text-gray-700 text-2xl font-semibold">Hai, DimahðŸ‘‹</p>
    <p class="text-gray-700 text-base">A great day to get better</p>
  </header>
  <main class="mt-5 font-semibold">
    <p class="bg-[#EDE3D5] text-[#63422B] rounded-full w-24 text-center">
      Schedule
    </p>
    <ul>
      {
        datas.getData.data.map((hari) => (
          <li>
            <Card
              href={`/detail/${hari.id}`}
              title={hari.nama_hari}
              description="Jadwal Hari ini..."
            />
          </li>
        ))
      }
    </ul>
  </main>
</Layout>
